{"version":3,"sources":["components/Filter.js","components/Form.js","components/Numbers.js","components/Notification.js","services/phonebook.js","App.js","index.js"],"names":["Filter","filter","handleFilter","value","onChange","Form","nameValue","nameHandler","numberValue","numberHandler","clickHandler","type","onClick","Numbers","persons","handleDelete","person","name","toLowerCase","includes","map","number","id","Notifications","Notification","message","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","ErrorNotification","errorMessage","baseUrl","phonebookService","getAll","axios","get","then","response","data","create","post","remove","delete","update","put","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","setFilter","setMessage","setErrorMessage","useEffect","event","target","preventDefault","window","confirm","personToUpdate","find","setTimeout","filtered","concat","catch","error","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.2b76f69e.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({ filter, handleFilter }) => (\n    <div>\n        filter shown with <input value={filter} onChange={handleFilter} />\n    </div>\n)\n\nexport default Filter","import React from 'react'\n\nconst Form = ({ nameValue, nameHandler, numberValue, numberHandler, clickHandler }) => (\n    <form>\n        <div>\n            name: <input value={nameValue} onChange={nameHandler} />\n        </div>\n        <div>\n            number: <input value={numberValue} onChange={numberHandler} />\n        </div>\n        <div>\n            <button type=\"submit\" onClick={clickHandler}>add</button>\n        </div>\n    </form>\n)\n\nexport default Form","import React from 'react'\n\nconst Numbers = ({ persons, filter, handleDelete }) => (\n  persons.filter(person => (\n    person.name.toLowerCase().includes(filter)\n  )).map(person => (\n    <div key={person.name}>\n      {person.name} {person.number}\n      <button name={person.name} id={person.id} onClick={handleDelete}>delete </button>\n    </div>\n  ))\n)\n\nexport default Numbers","import React from 'react'\n\nconst Notification = ({ message }) => {\n  const notificationStyle = {\n    color: 'green',\n    background: 'lightgray',\n    fontSize: 20,\n    borderStyle: 'solid',\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10\n  }\n\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div style={notificationStyle}>\n      {message}\n    </div>\n  )\n\n}\n\nconst ErrorNotification = ({ errorMessage }) => {\n  const errorNotificationStyle = {\n    color: 'red',\n    background: 'lightgray',\n    fontSize: 20,\n    borderStyle: 'solid',\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10\n  }\n\n  if (errorMessage === null) {\n    return null\n  }\n\n  return (\n    <div style={errorNotificationStyle}>\n      {errorMessage}\n    </div>\n  )\n\n}\n\nconst Notifications = {\n  Notification,\n  ErrorNotification\n}\n\nexport default Notifications","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = (person) => {\n  const request = axios.post(baseUrl, person)\n  return request.then(response => response.data)\n}\n\nconst remove = id => {\n  return axios.delete(`${baseUrl}/${id}`)\n}\n\nconst update = (id, person) => {\n  const request = axios.put(`${baseUrl}/${id}`, person)\n  return request.then(response => response.data)\n}\n\nconst phonebookService = {\n  getAll,\n  create,\n  remove,\n  update\n}\n\nexport default phonebookService","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport Form from './components/Form'\nimport Numbers from './components/Numbers'\nimport Notifications from './components/Notification'\nimport phonebookService from './services/phonebook'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filter, setFilter] = useState('')\n  const [message, setMessage] = useState(null)\n  const [errorMessage, setErrorMessage] = useState(null)\n\n\n  useEffect(() => {\n    phonebookService.getAll().then(data => {\n      setPersons(data)\n    })\n  }, [])\n\n  const handleNewName = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNewNumber = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilter = (event) => {\n    setFilter(event.target.value)\n  }\n\n  const handleDelete = (event) => {\n    if (window.confirm(`Delete ${event.target.name}?`)) {\n      phonebookService.remove(event.target.id)\n        .then(() => {\n          setPersons(persons.filter(person => person.name !== event.target.name))\n        })\n        .catch(error => {\n          setErrorMessage(\n            `Information of ${event.target.name} has already been removed from server`\n          )\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000)\n\n          setPersons(persons.filter(person => person.name !== event.target.name))\n        })\n    }\n  }\n\n  const handleAddPerson = (event) => {\n    event.preventDefault()\n\n    if (persons.map(person => person.name).includes(newName)) {\n      if (window.confirm(`${newName} is a already added to phonebook, replace the old number with a new one?`)) {\n        const personToUpdate = persons.find(person => person.name === newName)\n        phonebookService\n          .update(personToUpdate.id, { ...personToUpdate, number: newNumber })\n          .then(data => {\n            setMessage(`Updated ${newName}`)\n            setTimeout(() => {\n              setMessage(null)\n            }, 5000)\n\n            const filtered = persons.filter(person => person.name !== newName)\n            return setPersons(filtered.concat(data))\n          })\n          .catch(error => {\n            setErrorMessage(error.response.data)\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 5000)\n          })\n      }\n    } else {\n      phonebookService\n        .create({ name: newName, number: newNumber })\n        .then(data => {\n          setPersons(persons.concat(data))\n\n          setMessage(`Added ${newName}`)\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n        })\n        .catch(error => {\n          setErrorMessage(error.response.data)\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000)\n        })\n    }\n\n    setNewName('')\n    setNewNumber('')\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notifications.Notification message={message} />\n      <Notifications.ErrorNotification errorMessage={errorMessage} />\n      <Filter filter={filter} handleFilter={handleFilter} />\n      <h2>Add a new number</h2>\n      <Form nameValue={newName} nameHandler={handleNewName}\n        numberValue={newNumber} numberHandler={handleNewNumber}\n        clickHandler={handleAddPerson} />\n      <h2>Numbers</h2>\n      <Numbers filter={filter} persons={persons} handleDelete={handleDelete} />\n    </div>\n  )\n}\n\nexport default App","import ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <App />, \n  document.getElementById('root')\n)"],"sourceRoot":""}